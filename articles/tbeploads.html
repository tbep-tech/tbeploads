<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tbeploads">
<title>Getting started • tbeploads</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
<meta property="og:description" content="tbeploads">
<meta property="og:image" content="https://tbep-tech.github.io/tbeploads/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tbeploads</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/tbeploads.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tbep-tech/tbeploads/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Getting started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tbep-tech/tbeploads/blob/HEAD/vignettes/tbeploads.Rmd" class="external-link"><code>vignettes/tbeploads.Rmd</code></a></small>
      <div class="d-none name"><code>tbeploads.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the package from <a href="http://tbep-tech.r-universe.dev/ui/#builds" class="external-link">r-universe</a> as
follows. The source code is available on <a href="https://github.com/tbep-tech/tbeploads" class="external-link">GitHub</a>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install tbeploads in R:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'tbeploads'</span>, repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'https://tbep-tech.r-universe.dev'</span>, <span class="st">'https://cloud.r-project.org'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Load the package in an R session after installation:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">tbeploads</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>Load estimates are broadly defined as domestic point source (DPS),
industrial point source (IPS), nonpoint source (NPS), atmospheric
deposition (AD), and groundwater sources and springs (GW). The functions
are built around these sources with unique inputs for each.</p>
<div class="section level3">
<h3 id="dps">DPS<a class="anchor" aria-label="anchor" href="#dps"></a>
</h3>
<p>The DPS functions are designed to work with raw entity data provided
by partners. The core function is <code><a href="../reference/anlz_dps_facility.html">anlz_dps_facility()</a></code> that
requires only a vector of file paths as input, where each path points to
a file with monthly parameter concentration (mg/L) and flow data
(million gallons per day). The data also describe whether the
observations are end of pipe (direct inflow to the bay) or reuse
(applied to the land), with each defined by outfall Ids typically noted
as D-001, D-002, etc. and R-001, R-002, etc, respectively. Both are
estimated as concentration times flow, whereas reuse includes an
attenuation factor for land application depending on location. The file
names must follow a specific convention, where metadata for each entity
is found in the <code><a href="../reference/facilities.html">facilities()</a></code> data object using information
in the file name.</p>
<p>For convenience, four example files are included with the package.
The paths to these files are used as input to the function. Non-trivial
data pre-processing and quality control is needed for each file and
those included in the package are the correct format. The output is
returned as tons per month for TN, TP, TSS, and BOD and million cubic
meters per month for flow (hy).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dpsfls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/'</span>, package <span class="op">=</span> <span class="st">'tbeploads'</span><span class="op">)</span>,</span>
<span>  pattern <span class="op">=</span> <span class="st">'ps_dom'</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/anlz_dps_facility.html">anlz_dps_facility</a></span><span class="op">(</span><span class="va">dpsfls</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 144 × 11</span></span></span>
<span><span class="co">#&gt;     Year Month entity  facility coastco source tn_load tp_load tss_load bod_load</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">2</span>021     1 Clearw… City of… 387     D-001   0.617   0.030<span style="text-decoration: underline;">1</span>  0.251     1.65  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">2</span>021     2 Clearw… City of… 387     D-001   0.789   0.373   0.279     2.24  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">2</span>021     3 Clearw… City of… 387     D-001   0.393   0.344   0.135     0.842 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">2</span>021     4 Clearw… City of… 387     D-001   0.299   0.234   0.141     0.760 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">2</span>021     5 Clearw… City of… 387     D-001   0.012<span style="text-decoration: underline;">3</span>  0.017<span style="text-decoration: underline;">1</span>  0.007<span style="text-decoration: underline;">76</span>   0.044<span style="text-decoration: underline;">7</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">2</span>021     6 Clearw… City of… 387     D-001   0.194   0.320   0.113     0.527 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">2</span>021     7 Clearw… City of… 387     D-001   0.610   0.683   0.302     0.604 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">2</span>021     8 Clearw… City of… 387     D-001   0.534   0.487   0.315     0.594 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  <span style="text-decoration: underline;">2</span>021     9 Clearw… City of… 387     D-001   1.01    1.07    0.534     0.762 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  <span style="text-decoration: underline;">2</span>021    10 Clearw… City of… 387     D-001   0.310   0.324   0.135     0.237 </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 134 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: hy_load &lt;dbl&gt;</span></span></span></code></pre></div>
<p>The <code><a href="../reference/anlz_dps.html">anlz_dps()</a></code> function uses
<code><a href="../reference/anlz_dps_facility.html">anlz_dps_facility()</a></code> to summarize the DPS results by
location as facility (combines outfall data), entity (combines facility
data), bay segment (combines entity data), and as all (combines bay
segment data). The results can also be temporally summarized as monthly
or annual totals. The location summary is defined by the
<code>summ</code> argument and the temporal summary is defined by the
<code>summtime</code> argument. The <code>fls</code> argument used by
<code><a href="../reference/anlz_dps_facility.html">anlz_dps_facility()</a></code> is also used by
<code><a href="../reference/anlz_dps.html">anlz_dps()</a></code>. The output is tons per month for TN, TP, TSS,
and BOD and as million cubic meters per month for flow (hy) if
<code>summtime = 'month'</code> or tons per year for TN, TP, TSS, and
BOD and million cubic meters per year for flow (hy) if
<code>summtime = 'year'</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># combine by entity and month</span></span>
<span><span class="fu"><a href="../reference/anlz_dps.html">anlz_dps</a></span><span class="op">(</span><span class="va">dpsfls</span>, summ <span class="op">=</span> <span class="st">'entity'</span>, summtime <span class="op">=</span> <span class="st">'month'</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 108 × 10</span></span></span>
<span><span class="co">#&gt;     Year Month source   entity segment tn_load tp_load tss_load bod_load hy_load</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">2</span>017     1 DPS - e… Hills… Hillsb… 0.092<span style="text-decoration: underline;">4</span>  1.32<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span> 0.038<span style="text-decoration: underline;">8</span>    0.095<span style="text-decoration: underline;">5</span>  0.070<span style="text-decoration: underline;">4</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">2</span>017     2 DPS - e… Hills… Hillsb… 0.105   1.79<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span> 0.049<span style="text-decoration: underline;">7</span>    0.182   0.090<span style="text-decoration: underline;">1</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">2</span>017     3 DPS - e… Hills… Hillsb… 0.016<span style="text-decoration: underline;">7</span>  2.46<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span> 0.006<span style="text-decoration: underline;">47</span>   0.012<span style="text-decoration: underline;">7</span>  0.011<span style="text-decoration: underline;">7</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">2</span>017     4 DPS - e… Hills… Hillsb… 0.002<span style="text-decoration: underline;">49</span> 2.88<span style="color: #949494;">e</span><span style="color: #BB0000;">-4</span> 0.000<span style="text-decoration: underline;">626</span>  0.001<span style="text-decoration: underline;">75</span> 0.001<span style="text-decoration: underline;">14</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">2</span>017     5 DPS - e… Hills… Hillsb… 0.021<span style="text-decoration: underline;">9</span>  1.05<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span> 0.011<span style="text-decoration: underline;">6</span>    0.039<span style="text-decoration: underline;">6</span>  0.021<span style="text-decoration: underline;">1</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">2</span>017     6 DPS - e… Hills… Hillsb… 0.329   8.41<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span> 0.134     0.281   0.238  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">2</span>017     7 DPS - e… Hills… Hillsb… 0.215   5.95<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span> 0.114     0.293   0.208  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">2</span>017     8 DPS - e… Hills… Hillsb… 0.369   1.05<span style="color: #949494;">e</span><span style="color: #BB0000;">-1</span> 0.188     0.493   0.341  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  <span style="text-decoration: underline;">2</span>017     9 DPS - e… Hills… Hillsb… 0.603   1.51<span style="color: #949494;">e</span><span style="color: #BB0000;">-1</span> 0.202     0.548   0.360  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  <span style="text-decoration: underline;">2</span>017    10 DPS - e… Hills… Hillsb… 0.286   6.08<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span> 0.113     0.371   0.204  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 98 more rows</span></span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># combine by bay segment and year</span></span>
<span><span class="fu"><a href="../reference/anlz_dps.html">anlz_dps</a></span><span class="op">(</span><span class="va">dpsfls</span>, summ <span class="op">=</span> <span class="st">"segment"</span>, summtime <span class="op">=</span> <span class="st">"year"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 × 8</span></span></span>
<span><span class="co">#&gt;    Year source            segment      tn_load tp_load tss_load bod_load hy_load</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>  <span style="text-decoration: underline;">2</span>017 DPS - end of pipe Hillsboroug…   2.18  0.512    0.885    2.38      1.59 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>  <span style="text-decoration: underline;">2</span>018 DPS - end of pipe Hillsboroug…   0     0        0        0         0    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>  <span style="text-decoration: underline;">2</span>019 DPS - end of pipe Hillsboroug…  15.4   2.00     2.98    10.0       7.11 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>  <span style="text-decoration: underline;">2</span>021 DPS - end of pipe Old Tampa B…   5.66  4.08     2.71     9.06      4.39 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>  <span style="text-decoration: underline;">2</span>017 DPS - reuse       Hillsboroug…   1.14  0.033<span style="text-decoration: underline;">9</span>   0.070<span style="text-decoration: underline;">6</span>   0.195     1.53 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>  <span style="text-decoration: underline;">2</span>018 DPS - reuse       Hillsboroug…   0.126 0.001<span style="text-decoration: underline;">10</span>  0.004<span style="text-decoration: underline;">62</span>  0.009<span style="text-decoration: underline;">71</span>   0.101</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span>  <span style="text-decoration: underline;">2</span>019 DPS - reuse       Hillsboroug…   3.84  0.077<span style="text-decoration: underline;">8</span>   0.123    0.408     3.44 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span>  <span style="text-decoration: underline;">2</span>021 DPS - reuse       Hillsboroug…   2.87  0        0        0         1.74 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">9</span>  <span style="text-decoration: underline;">2</span>021 DPS - reuse       Old Tampa B…   1.19  0.177    0.097<span style="text-decoration: underline;">2</span>   0.379     1.99</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="ips">IPS<a class="anchor" aria-label="anchor" href="#ips"></a>
</h3>
<p>The IPS functions are designed to work with raw entity data provided
by partners and are similar in functionality to the DPS functions. The
core function is <code><a href="../reference/anlz_ips_facility.html">anlz_ips_facility()</a></code> that requires only a
vector of file paths as input, where each path points to a file with
monthly parameter concentration (mg/L) and flow data (million gallons
per day). Loads are estimated as concentration times flow. The file
names must follow a specific convention, where metadata for each entity
is found in the <code><a href="../reference/facilities.html">facilities()</a></code> data object using information
in the file name.</p>
<p>For convenience, four example files are included with the package.
The paths to these files are used as input to the function. As before,
non-trivial data pre-processing and quality control is needed for each
file and those included in the package are the correct format. The
output is returned as tons per month for TN, TP, TSS, and BOD and
million cubic meters per month for flow (hy).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ipsfls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/'</span>, package <span class="op">=</span> <span class="st">'tbeploads'</span><span class="op">)</span>,</span>
<span>  pattern <span class="op">=</span> <span class="st">'ps_ind_'</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/anlz_ips_facility.html">anlz_ips_facility</a></span><span class="op">(</span><span class="va">ipsfls</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 60 × 11</span></span></span>
<span><span class="co">#&gt;     Year Month entity  facility coastco source tn_load tp_load tss_load bod_load</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">2</span>020     1 Busch … Busch G… 191a    D-002   0.085<span style="text-decoration: underline;">7</span> 0.004<span style="text-decoration: underline;">76</span>    0.595    1.14 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">2</span>020     2 Busch … Busch G… 191a    D-002   0.037<span style="text-decoration: underline;">8</span> 0.002<span style="text-decoration: underline;">52</span>    0.629    1.21 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">2</span>020     3 Busch … Busch G… 191a    D-002   0.014<span style="text-decoration: underline;">5</span> 0.001<span style="text-decoration: underline;">45</span>    0.181    0.348</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">2</span>020     4 Busch … Busch G… 191a    D-002   0.049<span style="text-decoration: underline;">1</span> 0.001<span style="text-decoration: underline;">75</span>    0.438    0.841</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">2</span>020     5 Busch … Busch G… 191a    D-002   0.022<span style="text-decoration: underline;">3</span> 0.002<span style="text-decoration: underline;">17</span>    0.272    0.522</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">2</span>020     6 Busch … Busch G… 191a    D-002   0.042<span style="text-decoration: underline;">8</span> 0.004<span style="text-decoration: underline;">99</span>    0.357    0.685</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">2</span>020     7 Busch … Busch G… 191a    D-002   0.057<span style="text-decoration: underline;">3</span> 0.010<span style="text-decoration: underline;">6</span>     0.530    1.02 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">2</span>020     8 Busch … Busch G… 191a    D-002   0.113  0.015<span style="text-decoration: underline;">8</span>     0.660    1.27 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  <span style="text-decoration: underline;">2</span>020     9 Busch … Busch G… 191a    D-002   0.056<span style="text-decoration: underline;">7</span> 0.010<span style="text-decoration: underline;">3</span>     0.645    1.24 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  <span style="text-decoration: underline;">2</span>020    10 Busch … Busch G… 191a    D-002   0.045<span style="text-decoration: underline;">0</span> 0.009<span style="text-decoration: underline;">92</span>    0.382    0.733</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 50 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: hy_load &lt;dbl&gt;</span></span></span></code></pre></div>
<p>The <code><a href="../reference/anlz_ips.html">anlz_ips()</a></code> function uses
<code><a href="../reference/anlz_ips_facility.html">anlz_ips_facility()</a></code> to summarize the IPS results by
location as facility (combines outfall data), entity (combines facility
data), bay segment (combines entity data), and as all (combines bay
segment data). The results can also be temporally summarized as monthly
or annual totals. The location summary is defined by the
<code>summ</code> argument and the temporal summary is defined by the
<code>summtime</code> argument. The <code>fls</code> argument used by
<code><a href="../reference/anlz_ips_facility.html">anlz_ips_facility()</a></code> is also used by
<code><a href="../reference/anlz_ips.html">anlz_ips()</a></code>. The output is tons per month for TN, TP, TSS,
and BOD and as million cubic meters per month for flow (hy) if
<code>summtime = 'month'</code> or tons per year for TN, TP, TSS, and
BOD and million cubic meters per year for flow (hy) if
<code>summtime = 'year'</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># combine by entity and month</span></span>
<span><span class="fu"><a href="../reference/anlz_ips.html">anlz_ips</a></span><span class="op">(</span><span class="va">ipsfls</span>, summ <span class="op">=</span> <span class="st">'entity'</span>, summtime <span class="op">=</span> <span class="st">'month'</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 60 × 10</span></span></span>
<span><span class="co">#&gt;     Year Month source entity   segment tn_load tp_load tss_load bod_load hy_load</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">2</span>017     1 IPS    Lowry P… Hillsb…  0.017<span style="text-decoration: underline;">6</span> 0.003<span style="text-decoration: underline;">83</span>        0        0  0.016<span style="text-decoration: underline;">4</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">2</span>017     2 IPS    Lowry P… Hillsb…  0.015<span style="text-decoration: underline;">6</span> 0.003<span style="text-decoration: underline;">86</span>        0        0  0.014<span style="text-decoration: underline;">5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">2</span>017     3 IPS    Lowry P… Hillsb…  0.014<span style="text-decoration: underline;">5</span> 0.004<span style="text-decoration: underline;">41</span>        0        0  0.014<span style="text-decoration: underline;">9</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">2</span>017     4 IPS    Lowry P… Hillsb…  0.010<span style="text-decoration: underline;">1</span> 0.002<span style="text-decoration: underline;">92</span>        0        0  0.013<span style="text-decoration: underline;">9</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">2</span>017     5 IPS    Lowry P… Hillsb…  0.011<span style="text-decoration: underline;">0</span> 0.002<span style="text-decoration: underline;">90</span>        0        0  0.012<span style="text-decoration: underline;">9</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">2</span>017     6 IPS    Lowry P… Hillsb…  0.025<span style="text-decoration: underline;">7</span> 0.005<span style="text-decoration: underline;">69</span>        0        0  0.018<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">2</span>017     7 IPS    Lowry P… Hillsb…  0.020<span style="text-decoration: underline;">5</span> 0.003<span style="text-decoration: underline;">59</span>        0        0  0.014<span style="text-decoration: underline;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">2</span>017     8 IPS    Lowry P… Hillsb…  0.021<span style="text-decoration: underline;">1</span> 0.003<span style="text-decoration: underline;">97</span>        0        0  0.018<span style="text-decoration: underline;">0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  <span style="text-decoration: underline;">2</span>017     9 IPS    Lowry P… Hillsb…  0.025<span style="text-decoration: underline;">8</span> 0.005<span style="text-decoration: underline;">45</span>        0        0  0.016<span style="text-decoration: underline;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  <span style="text-decoration: underline;">2</span>017    10 IPS    Lowry P… Hillsb…  0.025<span style="text-decoration: underline;">9</span> 0.005<span style="text-decoration: underline;">55</span>        0        0  0.021<span style="text-decoration: underline;">4</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 50 more rows</span></span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># combine by bay segment and year</span></span>
<span><span class="fu"><a href="../reference/anlz_ips.html">anlz_ips</a></span><span class="op">(</span><span class="va">ipsfls</span>, summ <span class="op">=</span> <span class="st">"segment"</span>, summtime <span class="op">=</span> <span class="st">"year"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 8</span></span></span>
<span><span class="co">#&gt;    Year source segment          tn_load tp_load tss_load bod_load hy_load</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>  <span style="text-decoration: underline;">2</span>017 IPS    Hillsborough Bay   0.223  0.048<span style="text-decoration: underline;">7</span>     0         0    0.191 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>  <span style="text-decoration: underline;">2</span>018 IPS    Hillsborough Bay   0.165  0.046<span style="text-decoration: underline;">3</span>     0         0    0.136 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>  <span style="text-decoration: underline;">2</span>019 IPS    Hillsborough Bay   0.106  0.022<span style="text-decoration: underline;">9</span>     0         0    0.073<span style="text-decoration: underline;">9</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>  <span style="text-decoration: underline;">2</span>020 IPS    Hillsborough Bay   0.554  0.082<span style="text-decoration: underline;">7</span>     5.84     11.2  1.06  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>  <span style="text-decoration: underline;">2</span>021 IPS    Hillsborough Bay   2.16   4.77       4.64      0    1.31</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="material-losses-ml">Material Losses (ML)<a class="anchor" aria-label="anchor" href="#material-losses-ml"></a>
</h3>
<p>Material losses are estimates of nutrient loads to the bay primarily
from fertilizer shipping activities at ports. Historically, loadings
from material losses were much higher than at present. Only a few
entities report material losses, typically as a total for the year and
only for total nitrogen. The material losses as tons/yr are estimated
from the tons shipped using an agreed upon loss rate. Values reported in
the example files represent the estimated loss as the total tons of N
shipped each year multiplied by 0.0023 and divided by 2000. The total N
shipped at a facility each year can be obtained using a simple
back-calculation (multiply by 2000, divide by 0.0023).</p>
<p>The core function is <code><a href="../reference/anlz_ml_facility.html">anlz_ml_facility()</a></code> that requires
only a vector of file paths as input, where each file should be one row
per year per facility, where the row shows the total tons per year of
total nitrogen loss. The file names must follow a specific convention,
where metadata for each entity is found in the <code><a href="../reference/facilities.html">facilities()</a></code>
data object using information in the file name.</p>
<p>For convenience, four example files are included with the package.
The paths to these files are used as input to the function. The output
is nearly identical to the input data since no load calculations are
used, except results are shown as monthly load as the annual loss
divided by 12. Additional empty columns (e.g., TP load, TSS load, etc.)
are also returned for consistency of reporting with other loading
sources.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mlfls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/'</span>, package <span class="op">=</span> <span class="st">'tbeploads'</span><span class="op">)</span>,</span>
<span>  pattern <span class="op">=</span> <span class="st">'ps_indml'</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/anlz_ml_facility.html">anlz_ml_facility</a></span><span class="op">(</span><span class="va">mlfls</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 60 × 11</span></span></span>
<span><span class="co">#&gt;     Year Month entity  facility coastco source tn_load tp_load tss_load bod_load</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">2</span>017     1 Kinder… Kinder … <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>      0.015<span style="text-decoration: underline;">6</span> <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">2</span>017     2 Kinder… Kinder … <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>      0.015<span style="text-decoration: underline;">6</span> <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">2</span>017     3 Kinder… Kinder … <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>      0.015<span style="text-decoration: underline;">6</span> <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">2</span>017     4 Kinder… Kinder … <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>      0.015<span style="text-decoration: underline;">6</span> <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">2</span>017     5 Kinder… Kinder … <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>      0.015<span style="text-decoration: underline;">6</span> <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">2</span>017     6 Kinder… Kinder … <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>      0.015<span style="text-decoration: underline;">6</span> <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">2</span>017     7 Kinder… Kinder … <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>      0.015<span style="text-decoration: underline;">6</span> <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">2</span>017     8 Kinder… Kinder … <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>      0.015<span style="text-decoration: underline;">6</span> <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  <span style="text-decoration: underline;">2</span>017     9 Kinder… Kinder … <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>      0.015<span style="text-decoration: underline;">6</span> <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  <span style="text-decoration: underline;">2</span>017    10 Kinder… Kinder … <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>      0.015<span style="text-decoration: underline;">6</span> <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 50 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: hy_load &lt;lgl&gt;</span></span></span></code></pre></div>
<p>The <code><a href="../reference/anlz_ml.html">anlz_ml()</a></code> function uses
<code><a href="../reference/anlz_ml_facility.html">anlz_ml_facility()</a></code> to summarize the IPS results by location
as facility, entity (combines facility data), bay segment (combines
entity data), and as all (combines bay segment data). The results can
also be temporally summarized as monthly or annual totals. The location
summary is defined by the <code>summ</code> argument and the temporal
summary is defined by the <code>summtime</code> argument. The
<code>fls</code> argument used by <code><a href="../reference/anlz_ml_facility.html">anlz_ml_facility()</a></code> is
also used by <code><a href="../reference/anlz_ml.html">anlz_ml()</a></code>. The output is tons per month of TN
if <code>summtime = 'month'</code> or tons per year of TN if
<code>summtime = 'year'</code>. Columns for TP, TSS, BOD, and hydrologic
load are also returned with zero load for consistency with other point
source load calculation functions. Material loss loads are often
combined with IPS loads for reporting.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># combine by entity and month</span></span>
<span><span class="fu"><a href="../reference/anlz_ml.html">anlz_ml</a></span><span class="op">(</span><span class="va">mlfls</span>, summ <span class="op">=</span> <span class="st">'entity'</span>, summtime <span class="op">=</span> <span class="st">'month'</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 60 × 10</span></span></span>
<span><span class="co">#&gt;     Year Month source entity   segment tn_load tp_load tss_load bod_load hy_load</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">2</span>017     1 ML     Kinder … Hillsb…  0.015<span style="text-decoration: underline;">6</span>       0        0        0       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">2</span>017     2 ML     Kinder … Hillsb…  0.015<span style="text-decoration: underline;">6</span>       0        0        0       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">2</span>017     3 ML     Kinder … Hillsb…  0.015<span style="text-decoration: underline;">6</span>       0        0        0       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">2</span>017     4 ML     Kinder … Hillsb…  0.015<span style="text-decoration: underline;">6</span>       0        0        0       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">2</span>017     5 ML     Kinder … Hillsb…  0.015<span style="text-decoration: underline;">6</span>       0        0        0       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">2</span>017     6 ML     Kinder … Hillsb…  0.015<span style="text-decoration: underline;">6</span>       0        0        0       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">2</span>017     7 ML     Kinder … Hillsb…  0.015<span style="text-decoration: underline;">6</span>       0        0        0       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">2</span>017     8 ML     Kinder … Hillsb…  0.015<span style="text-decoration: underline;">6</span>       0        0        0       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  <span style="text-decoration: underline;">2</span>017     9 ML     Kinder … Hillsb…  0.015<span style="text-decoration: underline;">6</span>       0        0        0       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  <span style="text-decoration: underline;">2</span>017    10 ML     Kinder … Hillsb…  0.015<span style="text-decoration: underline;">6</span>       0        0        0       0</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 50 more rows</span></span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># combine by bay segment and year</span></span>
<span><span class="fu"><a href="../reference/anlz_ml.html">anlz_ml</a></span><span class="op">(</span><span class="va">mlfls</span>, summ <span class="op">=</span> <span class="st">"segment"</span>, summtime <span class="op">=</span> <span class="st">"year"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 8</span></span></span>
<span><span class="co">#&gt;    Year source segment          tn_load tp_load tss_load bod_load hy_load</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>  <span style="text-decoration: underline;">2</span>017 ML     Hillsborough Bay   0.188       0        0        0       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>  <span style="text-decoration: underline;">2</span>018 ML     Hillsborough Bay   0.190       0        0        0       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>  <span style="text-decoration: underline;">2</span>019 ML     Hillsborough Bay   0.193       0        0        0       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>  <span style="text-decoration: underline;">2</span>020 ML     Hillsborough Bay   0.884       0        0        0       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>  <span style="text-decoration: underline;">2</span>021 ML     Hillsborough Bay   0.987       0        0        0       0</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marcus Beck, Ed Sherwood, Ray Pribble.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
